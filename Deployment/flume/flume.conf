# Visited products
visited-products.sources = visited-products-source
visited-products.channels = visited-products-channel
visited-products.sinks = visited-products-sink

visited-products.sources.visited-products-source.type = org.apache.flume.source.kafka.KafkaSource
visited-products.sources.visited-products-source.zookeeperConnect = localhost:2181
visited-products.sources.visited-products-source.topic = visited-products
visited-products.sources.visited-products-source.groupId = flume
visited-products.sources.visited-products-source.batchSize = 100
visited-products.sources.visited-products-source.channels = visited-products-channel
visited-products.sources.visited-products-source.kafka.consumer.timeout.ms = 100
visited-products.sources.visited-products-source.interceptors = ymd ymd-strip
visited-products.sources.visited-products-source.interceptors.ymd.type = regex_extractor
visited-products.sources.visited-products-source.interceptors.ymd.regex = (\\d+)\\t(\\d+)\\t(\\d+)
visited-products.sources.visited-products-source.interceptors.ymd.serializers = s1 s2 s3
visited-products.sources.visited-products-source.interceptors.ymd.serializers.s1.name = year
visited-products.sources.visited-products-source.interceptors.ymd.serializers.s2.name = month
visited-products.sources.visited-products-source.interceptors.ymd.serializers.s3.name = day
visited-products.sources.visited-products-source.interceptors.ymd-strip.type = search_replace
visited-products.sources.visited-products-source.interceptors.ymd-strip.searchPattern = \\d+\\t\\d+\\t\\d+\\t
visited-products.sources.visited-products-source.interceptors.ymd-strip.replaceString =

visited-products.channels.visited-products-channel.type = memory
visited-products.channels.visited-products-channel.capacity = 10000
visited-products.channels.visited-products-channel.transactionCapacity = 100

visited-products.sinks.visited-products-sink.type = hdfs
visited-products.sinks.visited-products-sink.hdfs.path = /data/visited_products/%{year}/%{month}/%{day}
visited-products.sinks.visited-products-sink.hdfs.rollInterval = 120
visited-products.sinks.visited-products-sink.hdfs.rollSize = 0
visited-products.sinks.visited-products-sink.hdfs.rollCount = 100000
visited-products.sinks.visited-products-sink.hdfs.batchSize = 100
visited-products.sinks.visited-products-sink.hdfs.fileType = DataStream
visited-products.sinks.visited-products-sink.channel = visited-products-channel

# Bought products
bought-products.sources = bought-products-source
bought-products.channels = bought-products-channel
bought-products.sinks = bought-products-sink

bought-products.sources.bought-products-source.type = org.apache.flume.source.kafka.KafkaSource
bought-products.sources.bought-products-source.zookeeperConnect = localhost:2181
bought-products.sources.bought-products-source.topic = bought-products
bought-products.sources.bought-products-source.groupId = flume
bought-products.sources.bought-products-source.batchSize = 100
bought-products.sources.bought-products-source.channels = bought-products-channel
bought-products.sources.bought-products-source.kafka.consumer.timeout.ms = 100
bought-products.sources.bought-products-source.interceptors = ymd ymd-strip
bought-products.sources.bought-products-source.interceptors.ymd.type = regex_extractor
bought-products.sources.bought-products-source.interceptors.ymd.regex = (\\d+)\\t(\\d+)\\t(\\d+)
bought-products.sources.bought-products-source.interceptors.ymd.serializers = s1 s2 s3
bought-products.sources.bought-products-source.interceptors.ymd.serializers.s1.name = year
bought-products.sources.bought-products-source.interceptors.ymd.serializers.s2.name = month
bought-products.sources.bought-products-source.interceptors.ymd.serializers.s3.name = day
bought-products.sources.bought-products-source.interceptors.ymd-strip.type = search_replace
bought-products.sources.bought-products-source.interceptors.ymd-strip.searchPattern = \\d+\\t\\d+\\t\\d+\\t
bought-products.sources.bought-products-source.interceptors.ymd-strip.replaceString =

bought-products.channels.bought-products-channel.type = memory
bought-products.channels.bought-products-channel.capacity = 10000
bought-products.channels.bought-products-channel.transactionCapacity = 100

bought-products.sinks.bought-products-sink.type = hdfs
bought-products.sinks.bought-products-sink.hdfs.path = /data/bought_products/%{year}/%{month}/%{day}
bought-products.sinks.bought-products-sink.hdfs.rollInterval = 120
bought-products.sinks.bought-products-sink.hdfs.rollSize = 0
bought-products.sinks.bought-products-sink.hdfs.rollCount = 100000
bought-products.sinks.bought-products-sink.hdfs.batchSize = 100
bought-products.sinks.bought-products-sink.hdfs.fileType = DataStream
bought-products.sinks.bought-products-sink.channel = bought-products-channel
